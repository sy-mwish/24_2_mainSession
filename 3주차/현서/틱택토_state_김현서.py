# -*- coding: utf-8 -*-
"""í‹±íƒí†  State - ê¹€í˜„ì„œ

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1hpXJnRuBQSJ-xjluXOL1I3ahNgCCY8n_

# State class
í‹±íƒí†  ìƒíƒœë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” classë¥¼ ë§Œë“¤ì–´ ì£¼ì„¸ìš”.

- 2ëª…ì˜ í”Œë ˆì´ì–´ê°€ ìˆê³ , ê° í”Œë ˆì´ì–´ì˜ ìˆ˜ê°€ ë­”ì§€ ì‹ë³„ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.  

**ê¼­ êµ¬í˜„í•´ì•¼í•  ë§¤ì†Œë“œ(ì£¼ë‹ˆì–´/ì‹œë‹ˆì–´ ê³µí†µ)**
- ë‘˜ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ê°€ ì–´ë”˜ì§€ ì•Œë ¤ì£¼ëŠ” í•¨ìˆ˜
- win / lose / drawë¥¼ ì‹ë³„í•´ì£¼ëŠ” í•¨ìˆ˜
- render í•¨ìˆ˜

**min-max algorithm / alpha-beta algorithm êµ¬í˜„(ì‹œë‹ˆì–´)**

### ğŸš¨ ë§Œì•½ ê°ì´ ì•ˆ ì˜¨ë‹¤ë©´ ìš´ì˜ì§„ì—ê²Œ ì—°ë½ì£¼ì‹œë©´ ì°¸ê³ í•  ë§Œí•œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë³´ë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
### ğŸš¨ ì°¸ê³ í•œ ë ˆí¼ëŸ°ìŠ¤ê°€ ìˆë‹¤ë©´, ì¶œì²˜ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”.
"""

class TicTacToe:
    def __init__(self):
        # 3x3 ë¹ˆ ë³´ë“œë¥¼ ì´ˆê¸°í™” (ë¹ˆì¹¸ì€ Noneìœ¼ë¡œ í‘œì‹œ)
        self.board = [[None for _ in range(3)] for _ in range(3)]
        self.current_player = 'X'  # Xê°€ ë¨¼ì € ì‹œì‘
        self.winner = None

    def switch_player(self):
        # í˜„ì¬ í”Œë ˆì´ì–´ë¥¼ ë³€ê²½
        self.current_player = 'O' if self.current_player == 'X' else 'X'

    def is_valid_move(self, row, col):
        # ì£¼ì–´ì§„ ìœ„ì¹˜ê°€ ë¹„ì–´ ìˆìœ¼ë©´ ìœ íš¨í•œ ì›€ì§ì„
        return self.board[row][col] is None

    def make_move(self, row, col):
        # ì£¼ì–´ì§„ ìœ„ì¹˜ì— í˜„ì¬ í”Œë ˆì´ì–´ì˜ ë§ˆí¬ë¥¼ ë‘ëŠ” í•¨ìˆ˜ (Xì˜ ìˆ˜ëŠ” X, Oì˜ ìˆ˜ëŠ” Oì´ë¯€ë¡œ í˜„ì¬ self.current_playerë¡œ í‘œì‹œ)
        if self.is_valid_move(row, col):
            self.board[row][col] = self.current_player
            if self.check_winner():
                self.winner = self.current_player
            else:
                self.switch_player()
        else:
            print(f"Invalid move at ({row}, {col}). Try again.")

    def available_moves(self):
        # ë‚¨ì•„ìˆëŠ” ë¹ˆì¹¸(ë‘˜ ìˆ˜ ìˆëŠ” ìœ„ì¹˜)ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜
        return [(r, c) for r in range(3) for c in range(3) if self.board[r][c] is None]

    def check_winner(self):
        # ê°€ë¡œ, ì„¸ë¡œ, ëŒ€ê°ì„ ì— ë™ì¼í•œ í”Œë ˆì´ì–´ì˜ ë§ˆí¬ê°€ ìˆëŠ”ì§€ í™•ì¸
        for row in range(3):
            if self.board[row][0] == self.board[row][1] == self.board[row][2] == self.current_player:
                return True
        for col in range(3):
            if self.board[0][col] == self.board[1][col] == self.board[2][col] == self.current_player:
                return True
        if self.board[0][0] == self.board[1][1] == self.board[2][2] == self.current_player:
            return True
        if self.board[0][2] == self.board[1][1] == self.board[2][0] == self.current_player:
            return True
        return False

    def is_draw(self):
        # ë¹ˆì¹¸ì´ ì—†ê³  ìŠ¹ìê°€ ì—†ëŠ” ê²½ìš° ë¬´ìŠ¹ë¶€
        return all(self.board[row][col] is not None for row in range(3) for col in range(3)) and self.winner is None

    def render(self):
        # í˜„ì¬ ë³´ë“œë¥¼ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ
        for row in self.board:
            print(' | '.join([cell if cell is not None else ' ' for cell in row]))
            print('-' * 9)

    def game_status(self):
        # ê²Œì„ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ (ìŠ¹ë¦¬, ë¬´ìŠ¹ë¶€, ì§„í–‰ ì¤‘)
        if self.winner:
            return f"Player {self.winner} wins!"
        elif self.is_draw():
            return "Draw!"
        else:
            return f"Player {self.current_player}'s turn."

# ì‹¤í–‰ ì½”ë“œ
if __name__ == "__main__":
    game = TicTacToe()
    game.render()
    while not game.winner and not game.is_draw():
        row, col = map(int, input("Enter row and column (0-2): ").split())
        game.make_move(row, col)
        game.render()
        print(game.game_status())

from google.colab import drive
drive.mount('/content/drive')

